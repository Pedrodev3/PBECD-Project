-- Generated by Oracle SQL Developer Data Modeler 22.2.0.165.1149
--   at:        2023-03-06 17:49:41 BRT
--   site:      Oracle Database 12c
--   type:      Oracle Database 12c



-- predefined type, no DDL - MDSYS.SDO_GEOMETRY

-- predefined type, no DDL - XMLTYPE

CREATE TABLE t_pbecd_cliente (
    id_cliente         NUMBER(9) NOT NULL,
    id_drone           NUMBER(9) NOT NULL,
    nm_cliente         VARCHAR2(80) NOT NULL,
    nr_cpf             NUMBER(12) NOT NULL,
    nm_rg              VARCHAR2(15),
    dt_nascimento      DATE NOT NULL,
    fl_sexo_biologico  CHAR(1) NOT NULL,
    nm_grupo_sanguineo VARCHAR2(8) NOT NULL
);

COMMENT ON COLUMN t_pbecd_cliente.id_cliente IS
    'Id relacionado ao cliente.';

COMMENT ON COLUMN t_pbecd_cliente.nm_cliente IS
    'Nome do cliente.';

COMMENT ON COLUMN t_pbecd_cliente.nr_cpf IS
    'Número do CPF do cliente.';

COMMENT ON COLUMN t_pbecd_cliente.nm_rg IS
    'RG do cliente.';

COMMENT ON COLUMN t_pbecd_cliente.dt_nascimento IS
    'Data de nascimento do cliente.';

COMMENT ON COLUMN t_pbecd_cliente.fl_sexo_biologico IS
    '(M) - Masculino. (F) -Feminino.';

COMMENT ON COLUMN t_pbecd_cliente.nm_grupo_sanguineo IS
    'Tipo sanguíneo do cliente.';

ALTER TABLE t_pbecd_cliente ADD CONSTRAINT pk_pbecd_cliente PRIMARY KEY ( id_cliente );

ALTER TABLE t_pbecd_cliente ADD CONSTRAINT uk_pbecd_cliente UNIQUE ( nr_cpf,
                                                                     nm_rg );

CREATE TABLE t_pbecd_contato_cliente (
    id_contato  NUMBER(9) NOT NULL,
    id_cliente  NUMBER(9) NOT NULL,
    nm_contato  VARCHAR2(40) NOT NULL,
    nr_ddi      NUMBER(3),
    nr_ddd      NUMBER(3),
    nr_telefone NUMBER(10) NOT NULL
);

COMMENT ON COLUMN t_pbecd_contato_cliente.id_contato IS
    'ID do contato.';

COMMENT ON COLUMN t_pbecd_contato_cliente.nm_contato IS
    'Nome do contato do cliente.';

COMMENT ON COLUMN t_pbecd_contato_cliente.nr_ddi IS
    'Número do DDI do cliente';

COMMENT ON COLUMN t_pbecd_contato_cliente.nr_ddd IS
    'Número do DDD do cliente.';

COMMENT ON COLUMN t_pbecd_contato_cliente.nr_telefone IS
    'Número de telefone do cliente.';

ALTER TABLE t_pbecd_contato_cliente ADD CONSTRAINT pk_pbecd_contato_cliente PRIMARY KEY ( id_contato );

CREATE TABLE t_pbecd_drone (
    id_drone      NUMBER(9) NOT NULL,
    nr_serie      NUMBER(9) NOT NULL,
    dt_cadastro   DATE NOT NULL,
    dt_manutencao DATE NOT NULL,
    st_drone      CHAR(1) NOT NULL
);

COMMENT ON COLUMN t_pbecd_drone.id_drone IS
    'Id do drone.';

COMMENT ON COLUMN t_pbecd_drone.nr_serie IS
    'Relacionado ao número de série do drone';

COMMENT ON COLUMN t_pbecd_drone.dt_cadastro IS
    'Data de cadastro do drone no sistema.';

COMMENT ON COLUMN t_pbecd_drone.dt_manutencao IS
    'Data prevista para manutenção do drone.';

COMMENT ON COLUMN t_pbecd_drone.st_drone IS
    '(A) - ativo. (I) - inativo.';

ALTER TABLE t_pbecd_drone ADD CONSTRAINT pk_pbced_drone PRIMARY KEY ( id_drone );

CREATE TABLE t_pbecd_endereco_cliente (
    id_endereco           NUMBER(9) NOT NULL,
    id_cliente            NUMBER(9) NOT NULL,
    nr_logradouro         NUMBER(7),
    ds_complemento_numero VARCHAR2(30) NOT NULL,
    ds_ponto_referencia   VARCHAR2(80),
    dt_inicio             DATE NOT NULL,
    dt_fim                DATE
);

COMMENT ON COLUMN t_pbecd_endereco_cliente.id_endereco IS
    'ID do endereço do cliente.';

COMMENT ON COLUMN t_pbecd_endereco_cliente.nr_logradouro IS
    'Número do logradouro.';

COMMENT ON COLUMN t_pbecd_endereco_cliente.ds_complemento_numero IS
    'Complemento do endereço.';

COMMENT ON COLUMN t_pbecd_endereco_cliente.ds_ponto_referencia IS
    'Ponto de referência com o endereço.';

COMMENT ON COLUMN t_pbecd_endereco_cliente.dt_inicio IS
    'Data que iniciaram a residir em tal localidade.';

COMMENT ON COLUMN t_pbecd_endereco_cliente.dt_fim IS
    'Data de mudança da residência, caso haja.';

ALTER TABLE t_pbecd_endereco_cliente ADD CONSTRAINT pk_pbecd_endereco_cliente PRIMARY KEY ( id_endereco );

CREATE TABLE t_pbecd_entrega (
    id_entrega NUMBER(9) NOT NULL,
    id_cliente NUMBER(9) NOT NULL,
    id_drone   NUMBER(9) NOT NULL,
    dt_inicio  DATE NOT NULL,
    dt_fim     DATE NOT NULL,
    st_entrega CHAR(1) NOT NULL
);

COMMENT ON COLUMN t_pbecd_entrega.id_entrega IS
    'ID da entrega.';

COMMENT ON COLUMN t_pbecd_entrega.dt_inicio IS
    'Data de início da entrega.';

COMMENT ON COLUMN t_pbecd_entrega.dt_fim IS
    'Data do fim da entrega.';

COMMENT ON COLUMN t_pbecd_entrega.st_entrega IS
    'Status da entrega. (A) - Ativo. (I) - Inativo';

ALTER TABLE t_pbecd_entrega ADD CONSTRAINT pk_pbecd_entrega PRIMARY KEY ( id_entrega );

CREATE TABLE t_pbecd_entrega_receita (
    id_entrega NUMBER(9) NOT NULL,
    id_receita NUMBER(9) NOT NULL
);

ALTER TABLE t_pbecd_entrega_receita ADD CONSTRAINT pk_pbecd_entrega_receita PRIMARY KEY ( id_entrega,
                                                                                          id_receita );

CREATE TABLE t_pbecd_receita (
    id_receita NUMBER(9) NOT NULL,
    id_cliente NUMBER(9) NOT NULL,
    ds_remedio VARCHAR2(300) NOT NULL,
    dt_inicio  DATE NOT NULL
);

COMMENT ON COLUMN t_pbecd_receita.id_receita IS
    'ID da receita.';

COMMENT ON COLUMN t_pbecd_receita.ds_remedio IS
    'Descrição dos remédios contidos na receita.';

COMMENT ON COLUMN t_pbecd_receita.dt_inicio IS
    'Data que foi feita a receita.';

ALTER TABLE t_pbecd_receita ADD CONSTRAINT pk_pbecd_receita PRIMARY KEY ( id_receita );

ALTER TABLE t_pbecd_cliente
    ADD CONSTRAINT fk_pbecd_cliente_t_pbced_drone FOREIGN KEY ( id_drone )
        REFERENCES t_pbecd_drone ( id_drone );

--  ERROR: FK name length exceeds maximum allowed length(30) 
ALTER TABLE t_pbecd_contato_cliente
    ADD CONSTRAINT fk_pbecd_contato_cliente_t_pbecd_cliente FOREIGN KEY ( id_cliente )
        REFERENCES t_pbecd_cliente ( id_cliente );

--  ERROR: FK name length exceeds maximum allowed length(30) 
ALTER TABLE t_pbecd_endereco_cliente
    ADD CONSTRAINT fk_pbecd_endereco_cliente_t_pbecd_cliente FOREIGN KEY ( id_cliente )
        REFERENCES t_pbecd_cliente ( id_cliente );

--  ERROR: FK name length exceeds maximum allowed length(30) 
ALTER TABLE t_pbecd_entrega_receita
    ADD CONSTRAINT fk_pbecd_entrega_receita_t_pbecd_entrega FOREIGN KEY ( id_entrega )
        REFERENCES t_pbecd_entrega ( id_entrega );

--  ERROR: FK name length exceeds maximum allowed length(30) 
ALTER TABLE t_pbecd_entrega_receita
    ADD CONSTRAINT fk_pbecd_entrega_receita_t_pbecd_receita FOREIGN KEY ( id_receita )
        REFERENCES t_pbecd_receita ( id_receita );

ALTER TABLE t_pbecd_entrega
    ADD CONSTRAINT fk_pbecd_entrega_t_pbced_drone FOREIGN KEY ( id_drone )
        REFERENCES t_pbecd_drone ( id_drone );

--  ERROR: FK name length exceeds maximum allowed length(30) 
ALTER TABLE t_pbecd_entrega
    ADD CONSTRAINT fk_pbecd_entrega_t_pbecd_cliente FOREIGN KEY ( id_cliente )
        REFERENCES t_pbecd_cliente ( id_cliente );

--  ERROR: FK name length exceeds maximum allowed length(30) 
ALTER TABLE t_pbecd_receita
    ADD CONSTRAINT fk_pbecd_receita_t_pbecd_cliente FOREIGN KEY ( id_cliente )
        REFERENCES t_pbecd_cliente ( id_cliente );



-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE                             7
-- CREATE INDEX                             0
-- ALTER TABLE                             16
-- CREATE VIEW                              0
-- ALTER VIEW                               0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           0
-- ALTER TRIGGER                            0
-- CREATE COLLECTION TYPE                   0
-- CREATE STRUCTURED TYPE                   0
-- CREATE STRUCTURED TYPE BODY              0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          0
-- CREATE MATERIALIZED VIEW                 0
-- CREATE MATERIALIZED VIEW LOG             0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              0
-- 
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
-- 
-- REDACTION POLICY                         0
-- TSDP POLICY                              0
-- 
-- ORDS DROP SCHEMA                         0
-- ORDS ENABLE SCHEMA                       0
-- ORDS ENABLE OBJECT                       0
-- 
-- ERRORS                                   6
-- WARNINGS                                 0
